<aside class="side-panel site-panel" id="siteNav" aria-label="Site Navigation">
  
  <div class="site-header" style="justify-content: space-between;">
    
    <div style="display: flex; align-items: center; gap: 12px;">
      {% if site.logo %}
        <img src="{{ site.logo | relative_url }}" alt="Logo" class="logo-img" style="height: 32px; width: 32px;">
      {% endif %}
      <h2 style="margin: 0;">{{ site.title }}</h2>
    </div>

    <button type="button" class="action-btn" onclick="toggleSiteNav()" aria-label="Close site navigation">×</button>
    
  </div>

  <nav class="site-nav">
    
    <div class="search-box">
      <input type="text" id="search-input" class="search-input" placeholder="Search docs..." />
      <ul id="search-results" class="search-results"></ul>
    </div>

    {% if site.data.navigation %}
      {% for item in site.data.navigation %}
        {% if item.sublinks %}
          <button type="button" class="accordion-btn level-1" aria-expanded="false">{{ item.title }} <span class="caret">▼</span></button>
          <div class="accordion-content">
            
            {% for sub1 in item.sublinks %}
              {% if sub1.sublinks %}
                <button type="button" class="accordion-btn level-2" aria-expanded="false">{{ sub1.title }} <span class="caret">▼</span></button>
                <div class="accordion-content">
                  
                  {% for sub2 in sub1.sublinks %}
                    {% if sub2.sublinks %}
                      <button type="button" class="accordion-btn level-3" aria-expanded="false">{{ sub2.title }} <span class="caret">▼</span></button>
                      <div class="accordion-content">
                        
                        {% for sub3 in sub2.sublinks %}
                          <a href="{{ sub3.url | relative_url }}" class="level-4 {% if page.url == sub3.url %}active-link{% endif %}">{{ sub3.title }}</a>
                        {% endfor %}
                        
                      </div>
                    {% else %}
                      <a href="{{ sub2.url | relative_url }}" class="level-3 {% if page.url == sub2.url %}active-link{% endif %}">{{ sub2.title }}</a>
                    {% endif %}
                  {% endfor %}
                  
                </div>
              {% else %}
                <a href="{{ sub1.url | relative_url }}" class="level-2 {% if page.url == sub1.url %}active-link{% endif %}">{{ sub1.title }}</a>
              {% endif %}
            {% endfor %}
            
          </div>
        {% else %}
          <a href="{{ item.url | relative_url }}" class="level-1 {% if page.url == item.url %}active-link{% endif %}">{{ item.title }}</a>
        {% endif %}
      {% endfor %}
    {% endif %}

  </nav>
</aside>

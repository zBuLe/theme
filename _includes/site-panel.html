<aside class="side-panel site-panel" id="sitePanel">
  <header class="site-header">
    <button type="button" class="action-btn" onclick="toggleSiteNav()" aria-label="Toggle site navigation" aria-controls="siteNav" aria-expanded="false">
      <img src="{{ site.logo | relative_url }}" alt="{{ site.title }} Logo" class="logo-img">
    </button>
    <h2>{{ site.title }}</h2>
  </header>

  <nav class="site-nav" id="siteNav">
    <div class="search-box">
  <input type="text" id="search-input" class="search-input" placeholder="Search docs..." />
  <ul id="search-results" class="search-results"></ul>
</div>

    {% for item in site.data.navigation %}
      
      {% if item.sublinks %}
        
        {% assign is_active_group = false %}
        {% for sublink in item.sublinks %}
          {% if page.url == sublink.url %}
            {% assign is_active_group = true %}
          {% endif %}
        {% endfor %}

        <button type="button" class="accordion-btn {% if is_active_group %}active{% endif %}" aria-expanded="{% if is_active_group %}true{% else %}false{% endif %}">
          {{ item.title }} <span class="caret" aria-hidden="true">&#9660;</span>
        </button>
        
        <div class="accordion-content" {% if is_active_group %}style="max-height: 2000px;"{% endif %}>
          {% for sublink in item.sublinks %}
            <a href="{{ sublink.url | relative_url }}" class="{% if page.url == sublink.url %}active-link{% endif %}">
              {{ sublink.title }}
            </a>
          {% endfor %}
        </div>

      {% else %}
        <a href="{{ item.url | relative_url }}" class="{% if page.url == item.url %}active-link{% endif %}">
          {{ item.title }}
        </a>
      {% endif %}
      
    {% endfor %}

  </nav>

  <footer class="site-footer">
    &copy; {{ site.time | date: "%Y" }} {{ site.title }}
  </footer>
</aside>
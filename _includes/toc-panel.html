<aside class="side-panel toc-panel" id="tocPanel">
  <header class="toc-header">
    <button type="button" class="action-btn" id="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme"
            data-icon-light="{{ site.theme_icon_light | default: 'â˜€ï¸' }}"
            data-icon-dark="{{ site.theme_icon_dark | default: 'ğŸŒ™' }}">
      {{ site.theme_icon_dark | default: 'ğŸŒ™' }}
    </button>
    
    <h2>On this page</h2>
    
    <button type="button" class="action-btn" onclick="toggleTocNav()" aria-label="Toggle table of contents" aria-controls="tocNav" aria-expanded="false">
      {{ site.toc_icon | default: 'ğŸ“–' }}
    </button>
  </header>

  <nav class="toc-nav" id="tocNav"></nav>

  <footer class="toc-footer">
    {% if page.author %}
      <div class="meta-item"><strong>Author:</strong> {{ page.author }}</div>
    {% endif %}
    {% if page.date %}
      <div class="meta-item"><strong>Updated:</strong> {{ page.date | date: "%b %d, %Y" }}</div>
    {% endif %}
    {% if page.tags %}
      <div class="meta-tags">
        {% for tag in page.tags %}
          <span class="tag">#{{ tag }}</span>
        {% endfor %}
      </div>
    {% endif %}
  </footer>
</aside>